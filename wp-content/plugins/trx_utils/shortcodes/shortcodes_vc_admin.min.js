jQuery(document).ready(function(){if(typeof(vc)!="undefined"&&typeof(vc.shortcode_view)!="undefined"){vc.shortcode_view.prototype.deleteShortcode=function(b){if(_.isObject(b)){b.preventDefault();b.stopPropagation()}var a=confirm(window.i18nLocale.press_ok_to_delete_section);if(a===true){this.model.destroy()}};vc.shortcode_view.prototype.addElement=function(a){if(_.isObject(a)){a.preventDefault();a.stopPropagation()}vc.add_element_block_view.render(this.model,!_.isObject(a)||!jQuery(a.currentTarget).closest(".bottom-controls").hasClass("bottom-controls"))};vc.shortcode_view.prototype.editElement=function(a){if(_.isObject(a)){a.preventDefault();a.stopPropagation()}vc.edit_element_block_view.render(this.model)};if(typeof(window.InlineShortcodeView)=="undefined"){vc.shortcode_view.prototype.clone=function(a){if(_.isObject(a)){a.preventDefault();a.stopPropagation()}vc.clone_index=vc.clone_index/10;return this.cloneModel(this.model,this.model.get("parent_id"))}}window.VcTrxTextView=vc.shortcode_view.extend({changeShortcodeParams:function(b){var d=this.model.get("params"),c;window.VcTrxTextView.__super__.changeShortcodeParams.call(this,b);if(_.isObject(d)&&_.isString(d.content)){var a=this.$el.find("> .wpb_element_wrapper > .wpb_element_title").html();var e=-1;if((e=a.lastIndexOf("</i>"))>0){a=a.substr(0,e+4)+" "+d.content.replace(/\\n/g,"<br>")}else{if((e=a.lastIndexOf("</span>"))>0){a=a.substr(0,e+7)+" "+d.content.replace(/\\n/g,"<br>")}}this.$el.find("> .wpb_element_wrapper > .wpb_element_title").html(a)}},changedContent:function(a){var c=this.model.get("params");window.VcTrxTextView.__super__.changedContent.call(a);if(_.isObject(c)&&_.isString(c.count)){var b=this.$el.find("> .wpb_element_wrapper > .wpb_element_title").html();var d=-1;if((d=b.lastIndexOf("</i>"))>0){b=b.substr(0,d+4)+" "+c.content.replace(/\\n/g,"<br>")}else{if((d=b.lastIndexOf("</span>"))>0){b=b.substr(0,d+7)+" "+c.content.replace(/\\n/g,"<br>")}}this.$el.find("> .wpb_element_wrapper > .wpb_element_title").html(b)}}});window.VcTrxTextContainerView=vc.shortcode_view.extend({changeShortcodeParams:function(a){var c=this.model.get("params"),b;window.VcTrxTextContainerView.__super__.changeShortcodeParams.call(this,a);if(_.isObject(c)&&_.isString(c.content)){this.$el.find("> .wpb_element_wrapper > .vc_container_for_children").html(c.content.replace(/\\n/g,"<br>"))}}});window.VcTrxColumnsView=vc.shortcode_view.extend({changeShortcodeParams:function(a){var c=this.model.get("params"),b;window.VcTrxColumnsView.__super__.changeShortcodeParams.call(this,a);if(_.isObject(c)){if(_.isString(c.count)){bugspatrol_vc_columns_width(this.$el,c.count)}else{if(_.isString(c.columns)){bugspatrol_vc_columns_width(this.$el,c.columns)}}}},changedContent:function(a){window.VcTrxColumnsView.__super__.changedContent.call(a);var b=this.model.get("params");if(_.isObject(b)){if(_.isString(b.count)){bugspatrol_vc_columns_width(this.$el,b.count)}else{if(_.isString(b.columns)){bugspatrol_vc_columns_width(this.$el,b.columns)}}}}});window.VcTrxColumnItemView=vc.shortcode_view.extend({changeShortcodeParams:function(a){var c=this.model.get("params"),b;window.VcTrxColumnItemView.__super__.changeShortcodeParams.call(this,a);if(_.isObject(c)&&_.isString(c.span)){this.$el.removeClass("trx_columns_span_2 trx_columns_span_3 trx_columns_span_4 trx_columns_span_5");if(c.span>1){this.$el.addClass("trx_columns_span_"+c.span)}bugspatrol_vc_columns_width(this.$el.parents(".trx_sc_columns"))}},changedContent:function(a){window.VcTrxColumnsView.__super__.changedContent.call(a);var b=this.model.get("params");if(_.isObject(b)&&_.isString(b.span)){this.$el.removeClass("trx_columns_span_2 trx_columns_span_3 trx_columns_span_4 trx_columns_span_5");if(b.span>1){this.$el.addClass("trx_columns_span_"+b.span)}bugspatrol_vc_columns_width(this.$el.parents(".trx_sc_columns"))}}});if(typeof(window.VcAccordionView)!="undefined"){window.VcTrxAccordionView=window.VcAccordionView.extend({addTab:function(c){c.preventDefault();c.stopPropagation();this.adding_new_tab=true;var b=new Date(),d=window.i18nLocale.section,a="sc_accordion_item_"+b.getTime()+"_"+Math.floor(Math.random()*11);vc.shortcodes.create({shortcode:"trx_accordion_item",params:{title:d,id:a},parent_id:this.model.id})}});window.VcTrxAccordionTabView=window.VcAccordionTabView.extend({events:{"click > .vc_controls .column_delete,.wpb_trx_accordion_item > .vc_controls .vc_control-btn-delete":"deleteShortcode","click > .vc_controls .column_add,.wpb_trx_accordion_item > .vc_controls .vc_control-btn-prepend":"addElement","click > .vc_controls .column_edit,.wpb_trx_accordion_item > .vc_controls .vc_control-btn-edit":"editElement","click > .vc_controls .column_clone,.wpb_trx_accordion_item > .vc_controls .vc_control-btn-clone":"clone","click > [data-element_type] > .wpb_element_wrapper > .vc_empty-container":"addToEmpty"}})}if(typeof(window.VcAccordionView)!="undefined"){window.VcTrxListView=window.VcAccordionView.extend({addTab:function(c){c.preventDefault();c.stopPropagation();this.adding_new_tab=true;var b=new Date(),d=window.i18nLocale.section,a="sc_list_item_"+b.getTime()+"_"+Math.floor(Math.random()*11);vc.shortcodes.create({shortcode:"trx_list_item",params:{title:d,id:a},parent_id:this.model.id})}});window.VcTrxListItemView=window.VcAccordionTabView.extend({events:{"click > .vc_controls .column_delete,.wpb_trx_list_item > .vc_controls .vc_control-btn-delete":"deleteShortcode","click > .vc_controls .column_add,.wpb_trx_list_item > .vc_controls .vc_control-btn-prepend":"addElement","click > .vc_controls .column_edit,.wpb_trx_list_item > .vc_controls .vc_control-btn-edit":"editElement","click > .vc_controls .column_clone,.wpb_trx_list_item > .vc_controls .vc_control-btn-clone":"clone","click > [data-element_type] > .wpb_element_wrapper > .vc_empty-container":"addToEmpty"}})}if(typeof(window.VcTabsView)!="undefined"){window.VcTrxTabsView=window.VcTabsView.extend({createAddTabButton:function(){var b=new Date(),a="sc_tab_"+b.getTime()+"_"+Math.floor(Math.random()*11);this.$tabs.append('<div id="new-tab-'+a+'" class="new_element_button"></div>');this.$add_button=jQuery('<li class="add_tab_block"><a href="#new-tab-'+a+'" class="add_tab" title="'+window.i18nLocale.add_tab+'"></a></li>').appendTo(this.$tabs.find(".tabs_controls"))},addTab:function(c){c.preventDefault();c.stopPropagation();this.adding_new_tab=true;var b=new Date(),d=window.i18nLocale.tab,a="sc_tab_"+b.getTime()+"_"+Math.floor(Math.random()*11);vc.shortcodes.create({shortcode:"trx_tab",params:{title:d,tab_id:a,id:a},parent_id:this.model.id})}});window.VcTrxTabView=window.VcTabView.extend({render:function(){var b=this.model.get("params");window.VcTrxTabView.__super__.render.call(this);if(!b.tab_id){var a=new Date();b.tab_id=b.id?b.id:"sc_tab_"+a.getTime()+"_"+Math.floor(Math.random()*11);this.model.save("params",b)}if(b.tab_id!=b.id){b.id=b.tab_id?b.tab_id:"sc_tab_"+a.getTime()+"_"+Math.floor(Math.random()*11);this.model.save("params",b)}if(b.tab_id.substr(0,1)>="0"&&b.tab_id.substr(0,1)<="9"){b.tab_id="sc_tab_"+b.tab_id;this.model.save("params",b)}this.id="tab-"+b.tab_id;this.$el.attr("id",this.id);return this}})}if(typeof(window.VcAccordionView)!="undefined"){window.VcTrxTogglesView=window.VcAccordionView.extend({addTab:function(c){this.adding_new_tab=true;c.preventDefault();var b=new Date(),d=window.i18nLocale.section,a="sc_toogles_item_"+b.getTime()+"_"+Math.floor(Math.random()*11);vc.shortcodes.create({shortcode:"trx_toggles_item",params:{title:d,id:a},parent_id:this.model.id})}});window.VcTrxTogglesTabView=window.VcAccordionTabView.extend({events:{"click > .vc_controls .column_delete,.wpb_trx_toggles_item > .vc_controls .vc_control-btn-delete":"deleteShortcode","click > .vc_controls .column_add,.wpb_trx_toggles_item > .vc_controls .vc_control-btn-prepend":"addElement","click > .vc_controls .column_edit,.wpb_trx_toggles_item > .vc_controls .vc_control-btn-edit":"editElement","click > .vc_controls .column_clone,.wpb_trx_toggles_item > .vc_controls .vc_control-btn-clone":"clone","click > [data-element_type] > .wpb_element_wrapper > .vc_empty-container":"addToEmpty"}})}jQuery("body").on("click",".vc_edit-form-tab-control .vc_edit-form-link",function(){var a=jQuery(this).parent().index();var b=jQuery(this).parent().parent().siblings(".vc_edit-form-tab").eq(a).find("select.post_type");if(b.length>0){b.trigger("change")}});jQuery("body").on("change","select.post_type",function(){var a=jQuery(this);var b=a.parents(".vc_edit-form-tab").find("select.cat");var c=b.parent().prev();bugspatrol_admin_fill_categories(a,b,c)})}});function bugspatrol_vc_columns_width(a){var b=arguments[1]?arguments[1]:0;var d="";if(b>0){a.removeClass("trx_columns_count_1 trx_columns_count_2 trx_columns_count_3 trx_columns_count_4 trx_columns_count_5").addClass("trx_columns_count_"+b)}else{d=a.attr("class");if((pos=d.indexOf("trx_columns_count_"))>=0){b=Math.max(1,d.substr(pos+18,1))}}a.find("> .wpb_element_wrapper > .vc_container_for_children > .trx_sc_column_item").each(function(f){var e=1;var g=Math.floor((100-b*e)/b);var i=jQuery(this).attr("class");if((pos=i.indexOf("trx_columns_span_"))>=0){var h=Math.max(1,i.substr(pos+17,1));g=g*h+e*(h-1)}jQuery(this).css("width",g+"%")})};